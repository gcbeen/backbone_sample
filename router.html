<!DOCTYPE html>
<html>
<head>
<title>the5fire-backbone-model</title>
</head>
<body>
<a href="#actions">testActions</a><br />
<a href="#/posts/120">Post 120</a><br />
<a href="#/download/user/images/hey.gif">download gif</a><br />
<a href="#/dashboard/graph">Load Route/Action View</a><br />
<a href="#/manual">manual</a>

</body>
<script src="http://the5fireblog.b0.upaiyun.com/staticfile/jquery-1.10.2.js"></script>
<script src="http://the5fireblog.b0.upaiyun.com/staticfile/underscore.js"></script>
<script src="http://the5fireblog.b0.upaiyun.com/staticfile/backbone.js"></script>
<script>

var AppRouter = Backbone.Router.extend({
    routes: {
        "posts/:id" : "getPost",
        //下面对应的链接为<a href="#/download/user/images/hey.gif">download gif</a>
        "download/*path": "downloadFile",
        //下面对应的链接为<a href="#/dashboard/graph">Load Route/Action View</a>
        ":route/:action": "loadView",
        "manual": "manual",
        "*actions" : "defaultRoute"
    },

    getPost: function(id) {
        alert(id);
    },

    defaultRoute : function(actions){
        alert(actions);
    },

    downloadFile: function( path ){
        alert(path); // user/images/hey.gif
    },

    loadView: function( route, action ){
        alert(route + "_" + action); // dashboard_graph
    },
    manual: function() {
        alert("call manual");
        app_router.navigate("/posts/" + 404, {trigger: true, replace: true});
    }

});

var app_router = new AppRouter;

Backbone.history.start();
</script>